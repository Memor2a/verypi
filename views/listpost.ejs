<!DOCTYPE html>
<html>
<title>Router 설정 페이지</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">
<link rel="stylesheet" href="../public/css/main_css.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.w3-sidebar a {font-family: "Roboto", "Nanum gothic", sans-serif}
body,h1,h2,h3,h4,h5,h6,.w3-wide {font-family: "Montserrat", "Nanum gothic", sans-serif;}
    body{padding:0px}
</style>

	<script>
		function listpost(page, perPage) {
            document.location = '/process/listpost?page=' + page + '&perPage=' + perPage;
		}
	</script>

<body class="w3-content w3-grey" style="max-width:1200px">

	<!-- 메뉴 -->
	<nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top" style="z-index:3;width:250px" id="mySidebar">
		<div class="w3-container w3-display-container w3-padding-16">
			<i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
			<h3 class="w3-narrower w3-center"><b>VeryPI Router</b></h3>
            <br>
            <div class="w3-center w3-border-top w3-border-bottom">
                    <p class="w3-text-grey"><span class="fa fa-user"></span> 관리자님 환영합니다</p>
                    <a href="/logout" class="w3-bar-item w3-center w3-button w3-text-black"> 로그아웃</a>
            </div>    
        </div>
	  
		<div class="w3-padding-64 w3-large w3-text-grey" style="font-weight:bold">
			<a href="/" class="w3-bar-item w3-button w3-text-black">시스템 정보</a>

                <a onclick="myAccFunc(1)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    사용 설정<i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc1" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="/process/listpost" class="w3-bar-item w3-button">공지사항 설정</a>
                    <a href="./use_pwchange.html" class="w3-bar-item w3-button">비밀번호 변경</a>
                    <a href="/process/list_usermanage" class="w3-bar-item w3-button">구성원 관리</a>
                    <a href="./ltmituser.html" class="w3-bar-item w3-button">사용인원 제한</a>
                </div>

                <a onclick="myAccFunc(2)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    네트워크 설정 <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc2" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="./nw_port.html" class="w3-bar-item w3-button w3-light-grey">포트 설정</a>
                    <a href="./nw_portfw.html" class="w3-bar-item w3-button">포트 포워딩 설정</a>
                    <a href="./nw_innernw.html" class="w3-bar-item w3-button">내부 네트워크 관리</a>
                    <a href="./nw_ipchange.html" class="w3-bar-item w3-button">공유기 IP 변경</a>
                </div>

                <a onclick="myAccFunc(3)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    보안 설정 <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc3" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="./sc_mac.html" class="w3-bar-item w3-button">MAC Address 관리</a>
                    <a href="./sc_synflood.html" class="w3-bar-item w3-button">SYN Flood 차단 설정</a>
                </div>

                <a onclick="myAccFunc(4)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    디지털 액자 <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc4" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="./df_slide.html" class="w3-bar-item w3-button">슬라이드 설정</a>
                    <a href="./df_save.html" class="w3-bar-item w3-button">절전 설정</a>
                </div>

                <a onclick="myAccFunc(5)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    Printer Sharing <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc5" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="./ps_driver.html" class="w3-bar-item w3-button">드라이버 설정</a>
                    <a href="./ps_printer.html" class="w3-bar-item w3-button">프린터 설정</a>
                </div>

                <a onclick="myAccFunc(6)" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
                    NAS <i class="fa fa-caret-down"></i>
                </a>
                <div id="demoAcc6" class="w3-bar-block w3-hide w3-padding-large w3-medium">
                    <a href="./nas_register.html" class="w3-bar-item w3-button">NAS 등록</a>
                </div>
            
		</div>
	</nav>

	<!-- 모바일 버전 상단 바 -->
	<header class="w3-bar w3-top w3-hide-large w3-black w3-xlarge">
		<a href="javascript:void(0)" class="w3-bar-item w3-button w3-padding-24 w3-left" onclick="w3_open()"><i class="fa fa-bars"></i></a>
		<div class="w3-bar-item w3-padding-24">VeryPI Router</div>
	</header>

	<!-- 모바일 메뉴 닫기 -->
	<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

	<!-- 내용 시작 -->
	<div class="w3-main w3-white" style="margin-left:250px">

		<!-- Push down content on small screens -->
		<div class="w3-hide-large" style="margin-top:83px"></div>

		<!-- 시스템 정보 -->
		<header class="w3-container w3-xlarge">
			<p class="w3-left w3-border-bottom">공지사항 설정</p>
		</header>

    	<div class="w3-container">
    		<div class=" w3-text-grey" id="summary_device">
                <p id="board_title">공지사항</p>
            </div>
            
				<div class="w3">
					 <div class="w3">
						<div class="w3-bar w3-border-top w3-border-bottom">
                            <table class="w3-table">
                                <tr>
                                    <td width="60px">번호</td>
                                    <td width="70%"><div align="center">제목</div></td>
                                    <td>작성자</td>
                                    <td>날짜</td>
                                </tr>
                            </table>
			   			</div>
						<div class="w3-border-bottom">
							<%  var noStart = (pageCount - page) * perPage;
							
							    for (var i = 0; i < posts.length; i++) {
								   var curTitle = posts[i]._doc.title;
								   var curContents = posts[i]._doc.contents;
								   var curWriter = posts[i]._doc.writer.email;
								   var curNo = noStart - i;
								   %>
								    <div class="item">
										<div class="ui grid ">
						    				<div class="w3-left w3-button w3-center" style="width:60px"><%=curNo %></div>
						    				<div class="fourteen wide column" onclick="javascript:window.location='/process/showpost/<%=posts[i]._id %>'">
						    					<div class="w3-button" style="width:70%">
                                                    <%=curTitle %>
												</div>
                                                <div>
											         <%=curWriter%>
                                                </div>    
						    				</div>
						    			</div>
						    		</div>
							<% } %>	
						 
				    	</div>
			    	 
			       		<br>
						<div class="w3-border-top w3-border-bottom w3-center">
					 		<%
					 			if (page > 0) {
					 		%>
					 				<div class="ui icon button" onclick="listpost(0, <%=perPage %>)">
										<i class="dfa"></i>
									</div>
									<div class="ui icon button" onclick="listpost(<%=(page-1) %>, <%=perPage %>)">
										<i class="dfa"></i>
									</div>
					 		<%
					 			} else {
					 		%>
					 				<div class="ui disabled icon button">
										<i class="dfa"></i>
									</div>
									<div class="ui disabled icon button">
										<i class="dfa"></i>
									</div>
					 		<%
					 			}
					 		%>
					 		<% 
					 			var initial = Math.floor(page / 10) * 10;
					 			console.log('initial : ' + initial);
					 			
					 			var max = pageCount - initial;
					 			if (max > 10) {
					 				max = initial + 10;
					 			} else {
					 				max = initial + max;
					 			}
					 			console.log('max : ' + max);
					 			
					 			for (var i = initial; i < max; i++) {
					 				if (i != page) {
					 		%>
					 					<div class="w3-button" onclick="listpost(<%=i %>, <%=perPage %>)">
					 						<%= i %>
					 					</div>
					 		<%
					 				} else {
					 		%>
					 					<div class="w3-button">
					 						<%= i %>
					 					</div>
					 		<% 
					 				}
					 			}
					 		%>
					 		<%
					 			if ((page+1) < pageCount) {
					 		%>
					 				<div class="ui icon button" onclick="listpost(<%=(page+1) %>, <%=perPage %>)">
										<i class="dfa"></i>
									</div>
									<div class="ui icon button" onclick="listpost(<%=(pageCount-1) %>, <%=perPage %>)">
										<i class="dfa"></i>
									</div>
					 		<%
					 			} else {
					 		%>
					 				<div class="ui disabled icon button">
										<i class="dfa"></i>
									</div>
									<div class="ui disabled icon button">
										<i class="dfa"></i>
									</div>
					 		<%
					 			}
					 		%>
					 	</div>
						 	  
						<br><br>
                        <div class="w3-right">
                            <a class="w3-bar-item w3-button" href='/process/listpost?page=0&perPage=2'>새로고침</a>
                            <a class="w3-bar-item w3-button" href='/add_notice'>글쓰기</a>
                        </div>
					    <br>
					    <br>
					</div>
				</div>
			</div>
            <div class="w3-black w3-center w3-padding-24"> VeryPI Router Setting PAGE</div>
		</div>
	<script src="../public/js/script_main.js"></script>
	<script src="/public/semantic.min.js"></script>
</body>
</html>

